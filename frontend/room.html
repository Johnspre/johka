<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Johka Live â€” Room</title>
  <link rel="stylesheet" href="/css/style-room.css" />
</head>

<body>
  <!-- ğŸ” NAVBAR -->
  <nav class="navbar">
    <div id="logo">Johka Live ğŸ”¥</div>
    <div id="navLinks">
      <a href="/index.html">ğŸ  Home</a>
      <button id="goLive">ğŸ¥ Go Live</button>
      <button id="toggleCam">ğŸ“¸ Cam</button>
      <button id="toggleMic">ğŸ™ï¸ Mic</button>
      <button id="privateBtn">ğŸ”’ PrivÃ©</button>
      <button id="reconnectBtn">ğŸ” Reconnect</button>
      <button id="leave">ğŸšª Leave</button>
      <button id="viewersBtn">ğŸ‘¥ Viewers</button>
    </div>
  </nav>

  <!-- ğŸ”´ STATUSBALK -->
  <div id="streamStatus">
    <div class="left">
      <div id="liveDot"></div>
      <span id="status">verbonden: nee</span>
      <span>ğŸ‘€ <span id="viewCount">0</span></span>
    </div>
    <div class="right">ğŸ’¸ <span id="tipTotalBar">0</span> tokens</div>
  </div>

  <!-- ğŸ¬ HOOFDINHOUD -->
<main>
  <!-- ğŸ“¹ CAMERA-GEDEELTE -->
  <section id="stage">

<div id="broadcastSetup">
  <div class="setup-left">

    <p><strong>Room Subject:</strong> My room <button class="edit-btn">Edit</button></p>
    <p>You must submit age verification to receive tokens.</p>

    <label>Camera</label>
    <select id="cameraSelect"></select>

    <label>Resolution</label>
    <select id="resolutionSelect">
      <option>960 x 540</option>
      <option>1280 x 720</option>
      <option>1920 x 1080</option>
    </select>

    <label>Microphone</label>
    <select id="micSelect"></select>

    <label class="mute-row">
  <input id="muteCheck" type="checkbox">
  <span>Mute</span>
</label>

    <button id="startBroadcast" class="start-btn">Start Broadcasting</button>


  </div>

  
</div>
  </section>

  <!-- ğŸ’¬ CHAT-GEDEELTE -->
  <aside id="sidebar">
    <div id="chatTabs">
      <button data-tab="chat" class="active">ğŸ’¬ Chat</button>
      <button data-tab="users">ğŸ‘¥ Users</button>
      <button data-tab="private">ğŸ”’ PrivÃ©</button>
      <button data-tab="settings">âš™ï¸ Instellingen</button>
    </div>

    <!-- Chatpaneel -->
    <div id="chatTab" class="tabContent active">
      <div id="chat"></div>

      <form id="chatForm" autocomplete="off">
        <input id="chatInput" type="text" placeholder="Typ je berichtâ€¦" />
        <button>Stuur</button>
      </form>

      <div id="donationBar">
        <input id="donateInput" type="number" min="1" placeholder="10" />
        <button id="donateBtn">ğŸ’¸ Tip</button>
      </div>
    </div>

    <!-- Gebruikers -->
    <div id="usersTab" class="tabContent">
      <p>ğŸ‘¥ Gebruikerslijst verschijnt hierâ€¦</p>
    </div>

    <!-- PrivÃ© -->
    <div id="privateTab" class="tabContent">
      <p>ğŸ”’ PrivÃ©berichten of sessies komen hierâ€¦</p>
    </div>

    <!-- Instellingen -->
    <div id="settingsTab" class="tabContent">
      <p>âš™ï¸ Stream- en accountinstellingenâ€¦</p>
    </div>
  </aside>
</main>

<!-- ğŸ”½ Ondertabs (los van stage, maar visueel eronder) -->
<div id="bottomTabs">
  <button data-page="apps.html">Apps</button>
  <button data-page="games.html">Games</button>
  <button data-page="bio.html">Bio</button>
  <button data-page="settings.html">Settings</button>
  <button data-page="tokens.html">Token Stats</button>
  <button data-page="share.html">Share</button>
  <button data-page="memberships.html">Memberships</button>
</div>

<!-- ğŸ“„ Container voor geladen inhoud -->
<div id="bottomContent">
  <p style="color:#777; text-align:center; margin-top:20px;">
    Selecteer een tab hierboven om te starten ğŸ‘†
  </p>
</div>


  <!-- ğŸ”» FOOTER -->
  <footer>Johka Live â€” powered by LiveKit âš¡</footer>

  <!-- ğŸ”§ Tabs-logica -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const tabs = document.querySelectorAll("#chatTabs button");
      const contents = document.querySelectorAll(".tabContent");
      tabs.forEach(btn => {
        btn.addEventListener("click", () => {
          tabs.forEach(b => b.classList.remove("active"));
          btn.classList.add("active");
          const target = btn.dataset.tab;
          contents.forEach(c => c.classList.remove("active"));
          document.getElementById(target + "Tab").classList.add("active");
        });
      });
    });

    // live-status updater
    window.updateLivekitStatus = function(isConnected) {
      const dot = document.getElementById("liveDot");
      const status = document.getElementById("status");
      if (isConnected) {
        dot.style.background = "var(--live)";
        status.textContent = "verbonden: ja";
        status.style.color = "var(--ok)";
      } else {
        dot.style.background = "var(--muted)";
        status.textContent = "verbonden: nee";
        status.style.color = "var(--muted)";
      }
    };
  </script>

  <!-- ğŸ“¦ LiveKit / Johka functionaliteit -->
  <script type="module" src="/js/room.js" defer></script>
</body>
</html>
