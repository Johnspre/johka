<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Johka Live â€“ Bekijk stream</title>
 
  <link rel="stylesheet" href="/css/style-viewer.css">

</head>
<body>
  <!-- ğŸ” TOP BAR -->
<header class="topbar">
  <div class="nav-left">
    <div class="logo">Johka Live ğŸ”¥</div>
    <nav>
      <a href="/index.html">Home</a>
      <a href="#">Discover</a>
      <a href="#">Tags</a>
      <a href="#">Private Shows</a>
      <a href="#">Following</a>
      <a href="#">Merch</a>
    </nav>
  </div>

  <div class="nav-right">
    <div class="profile-menu" id="profileMenu">
      <button id="profileBtn">ğŸ‘¤ Gebruiker â–¾</button>
      <div class="dropdown" id="profileDropdown">
        <div class="dropdown-content"></div>
      </div>
    </div>

    <button id="broadcastBtn">Broadcast Yourself</button>
    <button id="signupBtn" onclick="location.href='/register.html'">
      Sign Up â–¶
    </button>
  </div>
</header>


  <main class="viewer-layout">
  <section id="viewer-left">
    <div id="player">
      <video id="remoteVideo" autoplay playsinline></video>
      <div id="playerOverlay">Verbinden â€“ wachten op videoâ€¦</div>
    </div>

  </section>

<!-- ğŸ¬ VIEWER RECHTERKOLOM -->
<aside id="viewer-right" class="side-panel">

  <!-- ğŸ”´ STREAM STATUS -->
  <div id="streamStatusBox" class="stream-status">
    <div id="statusBadge" class="offline">
      <span>â—</span><span id="statusText">Offline</span>
    </div>
    <div id="creatorName">Onbekend</div>
    <div id="viewerCount">ğŸ‘ 0 kijkers</div>
  </div>

  <!-- ğŸ”¸ Tabs -->
  <div class="tab-bar">
    <button class="tab active" data-tab="chat">ğŸ’¬ Chat</button>
    <button class="tab" data-tab="pm">ğŸ’Œ PM</button>
    <button class="tab" data-tab="users">ğŸ‘¥ Users</button>
    <button class="tab" data-tab="settings">âš™ï¸ Instellingen</button>
  </div>

  <!-- ğŸ’¬ CHAT TAB -->
  <div id="chatTab" class="tab-content active">
    <div id="chatBox">
      <div id="messageLog">Verbinden met stream...</div>
    </div>

    <form id="chatForm" class="chat-input-bar">
      <input id="chatInput" type="text" placeholder="Typ een bericht..." autocomplete="off" />
      <button id="viewerEmojiBtn" type="button">ğŸ˜Š</button>
      <button id="chatSendBtn" type="submit">Verstuur</button>
      <div id="emojiPopup" class="hidden"></div>
    </form>

    <div id="chatNotice"></div>

    <!-- ğŸ’¸ Donatiebalk -->
    <div id="donationBar">
      <input id="donateInput" type="number" min="1" step="1" value="10" inputmode="numeric" />
      <button id="donateBtn">ğŸ’¸ Tip</button>
    </div>

    <button id="leaveBtn" class="leave-btn">ğŸšª Verlaat kamer</button>
  </div>

 <!-- ğŸ’Œ PRIVÃ‰ TAB -->
<div id="pmTab" class="tab-content">

  <!-- Inbox -->
  <div id="pmInbox"
       style="height:240px; overflow-y:auto; border:1px solid #ccc;
       padding:8px; border-radius:6px; background:#fafafa; margin-bottom:10px;">
      <p style="color:#777;">Nog geen privÃ©berichtenâ€¦</p>
  </div>

  <!-- Lock message (CB style) -->
  <div id="pmLockedBox" 
       style="background:#fff3cd; border:1px solid #ffeeba; padding:10px;
              border-radius:6px; color:#856404; margin-bottom:10px; display:none;">
      Je moet een supporter zijn, een tip gegeven hebben,  
      of eerst een privÃ©bericht van deze streamer ontvangen  
      om een DM te kunnen sturen.
  </div>

  <!-- Verstuur-veld -->
  <div style="display:flex; gap:6px;">
    <input id="pmInput" type="text" placeholder="Typ een privÃ©berichtâ€¦" 
           style="flex:1; padding:8px; border:1px solid #ccc; border-radius:6px;">
    <button id="pmSendBtn"
            style="padding:8px 12px; border:none; border-radius:6px;
                   background:#ff6600; color:white; font-weight:600; cursor:pointer;">
      Verstuur
    </button>
  </div>

</div>


  <!-- ğŸ‘¥ USERS TAB -->
  <div id="usersTab" class="tab-content">
    <ul id="userList"></ul>
    <p id="anonCount">+0 anonymous users</p>
  </div>

  <!-- âš™ï¸ INSTELLINGEN TAB -->
  <div id="settingsTab" class="tab-content">
    <h4>âš™ï¸ Instellingen</h4>
    <label>Fontgrootte:
      <select>
        <option>9 pt</option>
        <option>10 pt</option>
        <option>11 pt</option>
      </select>
    </label>
    <br />
    <label><input type="checkbox" checked /> Toon emoticons</label>
  </div>

</aside>

  <!-- Creator info / bio panel zoals Chaturbate -->
  <section id="creatorInfoBox">
    <div id="creatorTabs">
      <button class="active" data-tab="bio">Bio</button>
      <button data-tab="pics">Pics & Videos</button>
      <button data-tab="more">More Rooms Like This</button>
      <button data-tab="share">Share</button>
    </div>
    <div id="creatorContent">
      <p id="creatorBio">Ladenâ€¦</p>
    </div>
  </section>
</main>

  <footer>Johka Live â€“ powered by LiveKit âš¡</footer>
  <script type="module" src="/js/viewer.js"></script>
  <script src="/js/navbar-auth.js"></script>

  
<script>
document.addEventListener("DOMContentLoaded", () => {
  const tabs = document.querySelectorAll(".tab");
  const tabContents = document.querySelectorAll(".tab-content");

  tabs.forEach(tab => {
    tab.addEventListener("click", () => {
      const targetName = tab.dataset.tab;
      // Verwijder active van alle tabs
      tabs.forEach(t => t.classList.remove("active"));
      tab.classList.add("active");

      // Verberg alle tab-content
      tabContents.forEach(c => {
        c.classList.remove("active");
        c.style.display = "none";
      });

      // Toon de juiste tab-content
      const target = document.getElementById(targetName + "Tab");
      if (target) {
        target.classList.add("active");
        target.style.display = "block";
      }

      if (targetName === "users" && typeof window.refreshViewerRoster === "function") {
        window.refreshViewerRoster();
      }
    });
  });
});
</script>






</body>
</html>